- name: update yum cache
  yum:
    update_cache: yes
  become: yes
  ignore_errors: yes

- name: update all packages
  yum:
    name: '*'
    state: latest
  become: yes

- name: install required packages
  yum:
    name:
      - "@Development tools"
      - sshpass
    state: present
  become: yes

- name: install python3 and related packages
  yum:
    name:
      - python-virtualenv
      - python3
      - python3-devel
      - python3-pip
      - python3-wheel
    state: present
  become: yes